2007-04-23  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(set_default_custom_servernames):
	* src/maemo/modest-account-settings-dialog.c:
	(create_page_incoming), (on_combo_outgoing_security_changed),
	(on_combo_incoming_security_changed), (create_page_outgoing),
	(modest_account_settings_dialog_set_account_name),
	(save_configuration):
	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	(on_combo_security_changed),
	(modest_connection_specific_smtp_edit_window_init),
	(modest_connection_specific_smtp_edit_window_set_connection),
	(modest_connection_specific_smtp_edit_window_get_settings): 
	Use HildonNumberEditor instead of GtkEntry for the port numbers so it has the - and + buttons,
	as per the UI spec.

2007-04-20  Murray Cumming  <murrayc@murrayc.com>

	* po/en_GB.po:
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(create_page_custom_outgoing), (create_page_complete_custom):
	* src/maemo/modest-account-settings-dialog.c:
	(create_page_user_details), (create_page_outgoing):
	* src/maemo/modest-account-view-window.c: (button_box_new):
	Use changed logical IDs as per the most recent UI spec:
	mcen_bd_emailsetup_edit -> mcen_bd_edit
	mcen_bd_emailsetup_delete -> mcen_bd_delete
	mcen_bd_emailsetup_close -> mcen_bd_close

2007-04-20  2007-04-20  Murray Cumming  <murrayc@murrayc.com>

	* configure.ac:
	* src/Makefile.am:
	* src/dbus_api/Makefile.am:
	* src/dbus_api/modest-dbus-callbacks.c:
	* src/dbus_api/modest-dbus-callbacks.h:
	* src/maemo/modest-platform.c: (modest_platform_init):
	Added the beginnings of a D-Bus API. At the moment it just has a HelloWorld 
	method.
	* tests/Makefile.am:
	* tests/dbus_api/Makefile.am:
	* tests/dbus_api/test_hello.c: (main): Very simple test of the D-Bus API.

2007-04-20  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/modest-account-settings-dialog.c:
	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	Removed unnecessary includes.

2007-04-20  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c:
	* src/maemo/modest-account-settings-dialog.c:
	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	* src/widgets/Makefile.am:
	* src/widgets/modest-easysetup-secureauth-combo-box.c:
	* src/widgets/modest-easysetup-secureauth-combo-box.h:
	* src/widgets/modest-easysetup-serversecurity-combo-box.c:
	* src/widgets/modest-easysetup-serversecurity-combo-box.h:
	* src/widgets/modest-secureauth-combo-box.c:
	* src/widgets/modest-secureauth-combo-box.h:
	* src/widgets/modest-serversecurity-combo-box.c:
	* src/widgets/modest-serversecurity-combo-box.h: Renamed the files and 
	made the GObject names more consistent with the rest of the Modest code.

2007-04-20  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/Makefile.am:
	* src/maemo/easysetup/modest-easysetup-secureauth-combo-box.c:
	* src/maemo/easysetup/modest-easysetup-secureauth-combo-box.h:
	* src/maemo/easysetup/modest-easysetup-serversecurity-combo-box.c:
	* src/maemo/easysetup/modest-easysetup-serversecurity-combo-box.h:
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	* src/maemo/easysetup/modest-validating-entry.c:
	* src/maemo/easysetup/modest-validating-entry.h:
	* src/maemo/modest-account-settings-dialog.c:
	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	* src/widgets/Makefile.am: Moved these widgets from maemo/easysetup into 
	widgets/ because they are used outside of easysetup too. After checking in, 
	svn will allow me to rename them too.

2007-04-20  Murray Cumming  <murrayc@murrayc.com>

	* src/gnome/modest-msg-edit-window.c:
	(modest_msg_edit_window_set_priority_flags): Added an empty implementation to fix a 
	linker error, to fix the build on the GNOME platform.
	modest_msg_edit_window_set_zoom(), modest_msg_edit_window_get_zoom(), 
	modest_msg_edit_window_zoom_plus(), modest_msg_edit_window_zoom_minus():
	ifdefed out to avoid a warning.

2007-04-20  Murray Cumming  <murrayc@murrayc.com>

	* src/widgets/modest-header-view.c: (on_focus_in): Use GTK_CHECK_VERSION to #ifdef around the 
	use of gtk_tree_view_get_visible_range(), to fix the build on Mameo. This code probably needs 
	some alternative for GTK+ 2.6.

2007-04-19  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/modest-address-book.c: Added include to avoid a warning.

	* po/en_GB.po: Added missing mcen_bd_emailsetup_close string, 
	specified for EmailAccountsDialog in UI spec.
	
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	* src/maemo/easysetup/modest-easysetup-wizard.h:
	* src/maemo/modest-account-settings-dialog.c:
	* src/maemo/modest-account-settings-dialog.h:
	Reuse a member window widget for the connection-specific SMTP server accounts, 
	so we can tell it to create/save the accounts only if we actually save changes.

	* src/maemo/modest-connection-specific-smtp-edit-window.h:	
	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	(modest_connection_specific_smtp_edit_window_get_settings): 
	Return a struct instance for temporarily remembering the entered data.

	* src/maemo/modest-connection-specific-smtp-window.h:
	* src/maemo/modest-connection-specific-smtp-window.c:
	(modest_connection_specific_smtp_window_finalize),
	(modest_connection_specific_smtp_window_fill_with_connections),
	(on_button_edit),
	(modest_connection_specific_smtp_window_save_server_accounts),
	(update_model_server_names): Do not actually save data until asked, 
	when the caller calls modest_connection_specific_smtp_window_save_server_accounts().
	
	(on_selection_changed),
	(modest_connection_specific_smtp_window_init): Disable the edit 
	button when nothing is selected.
	
	* src/modest-account-mgr-helpers.c:
	* src/modest-account-mgr-helpers.h: 
	Put modest_account_mgr_free_server_account_data() in the header now that I use the struct 
	elsewhere.

2007-04-19  Murray Cumming  <murrayc@murrayc.com>

	* src/modest-account-mgr-helpers.h:
	* src/modest-account-mgr-helpers.c:
	(modest_account_mgr_get_unused_account_name),
	(modest_account_mgr_get_unused_account_display_name): Added these 
	utility functions, to avoid code duplication.

	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(create_page_account_details), (create_account):
	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	(on_combo_security_changed),
	(modest_connection_specific_smtp_edit_window_init),
	(modest_connection_specific_smtp_edit_window_save_settings):
	* src/maemo/modest-connection-specific-smtp-edit-window.h:
	* src/maemo/modest-connection-specific-smtp-window.c:
	(modest_connection_specific_smtp_window_finalize),
	(modest_connection_specific_smtp_window_fill_with_connections),
	(on_button_edit), (modest_connection_specific_smtp_window_init):
	* src/maemo/modest-connection-specific-smtp-window.h:
	Implementing saving of connection-specific server accounts.
	
	But I need to refactor this so we can save the data for each 
	possible connection-specific account and only actually create the server accounts 
	when the easysetup finished, or the OK button is pressed on the account settings 
	dialog.

2007-04-18  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	(on_combo_security_changed): 
	(modest_connection_specific_smtp_edit_window_init):
	Auto-fill the port number as in the account settings.
	
	(modest_connection_specific_smtp_edit_window_set_connection):
	* src/maemo/modest-connection-specific-smtp-edit-window.h:
	* src/maemo/modest-connection-specific-smtp-window.c:
	(fill_with_connections), (on_button_edit),
	(modest_connection_specific_smtp_window_init): 
	Turn the edit window into a dialog to simplify the code, and 
	set a WM hint as in a GtkDialog, because only a popup can be on top of 
	another window in Maemo, and popups usually have no WM decoration.
	
	* src/modest-defs.h:
	* src/modest-account-mgr-helpers.c:
	(modest_account_mgr_set_connection_specific_smtp),
	(modest_account_mgr_remove_connection_specific_smtp),
	(modest_account_mgr_get_connection_specific_smtp):
	* src/modest-account-mgr-helpers.h: Some functions to write the 
	connection-specific SMTP server information. Not yet used.

	
	* src/widgets/modest-folder-view.c: (text_cell_data):
	Fix a warning about an uninitialized variable.
	(on_configuration_key_changed): Put an #ifdef around the use 
	of gtk_tree_view_column_queue_resize() because it is new in GTK+ 2.10.

2007-04-18  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/modest-account-settings-dialog.h:
	* src/maemo/modest-account-settings-dialog.c:
	Added connect_for_modified() utility function to mark the new modified boolean.
	
	(create_page_account_details), (create_page_user_details),
	(create_page_incoming), (create_page_outgoing), (on_response),
	(modest_account_settings_dialog_init),
	(modest_account_settings_dialog_set_account_name):
	Only warn about unsaved changes when there are actually unsaved changes.
	
	* src/modest-account-mgr-helpers.c:
	* src/modest-account-mgr-helpers.h: Put the port, secure-auth, and security information 
	into the ModestServerAccountData struct. I do not use it yet, but someone might expect 
	to get the data from there in future.

2007-04-18  Murray Cumming  <murrayc@murrayc.com>

	* src/modest-defs.h:

	* src/modest-account-mgr-helpers.h:
	* src/modest-account-mgr-helpers.c:
	Store the security account setting in a single conf key instead of using 
	the options list, so that the list is left for just the to-be-removed camel hack, 
	and because gconf_client_set_list() is failing for some reason.

	* src/modest-account-mgr.c:
	(modest_account_mgr_add_server_account):
	* src/maemo/modest-account-settings-dialog.c:
	(modest_account_settings_dialog_set_account_name),
	(save_configuration): Use the renamed functions.


2007-04-18  Murray Cumming  <murrayc@murrayc.com>

	* src/widgets/Makefile.am:
	* src/widgets/modest-limit-retrieve-combo-box.c:
	* src/widgets/modest-limit-retrieve-combo-box.h:
	* src/widgets/modest-retrieve-combo-box.c:
	* src/widgets/modest-retrieve-combo-box.h: Added new widgets for use in 
	the account settings dialog.
	
	* src/modest-defs.h:
	* src/modest-account-mgr-helpers.h:
	* src/modest-account-mgr-helpers.c:
	(modest_server_account_get_option_secure_auth),
	(modest_server_account_set_option_secure_auth):
	* src/modest-account-mgr.c:
	(modest_account_mgr_add_server_account):
	Use the existing AUTH_MECH conf key for the secure-auth setting, 
	instead of putting it in the list options, because this was actually used already.
	
	* src/maemo/modest-account-settings-dialog.c:
	(create_page_account_details),
	(modest_account_settings_dialog_set_account_name),
	(save_configuration):
	* src/maemo/modest-account-settings-dialog.h:
	Add the retrieve and retrieve-limit combo boxes, as per the UI spec.
	Hide the leave-messages checkbox for non-POP accounts, as per the UI spec.

2007-04-18  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-serversecurity-combo-box.h:
	* src/maemo/easysetup/modest-easysetup-serversecurity-combo-box.c:
	Added easysetup_serversecurity_combo_box_get_active_serversecurity_port()

	* src/modest-defs.h:
	* src/maemo/modest-account-settings-dialog.c:
	(create_page_incoming), (on_combo_outgoing_security_changed),
	(on_combo_incoming_security_changed), (create_page_outgoing),
	(modest_account_settings_dialog_set_account_name),
	(save_configuration): Load/Save the port number, and change it when the 
	security combo changes, to suitable defaults.

2007-04-17  Murray Cumming  <murrayc@murrayc.com>

	* src/modest-account-mgr.c:
	(modest_account_mgr_add_server_account): Set the security and secure-auth 
	options, and add a comment saying that the other camel-specific options should be 
	removed in future.

2007-04-17  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/modest-account-settings-dialog.c: (check_data): Always return something, 
	found by valgrind.
	* src/modest-tny-account-store.c: (account_list_free),
	(on_account_changed): Add a TODO comment about a valgrind error, caused by using 
	cursor->data after unreffing it. But there is some strange stuff there so it might not be 
	easy to fix.

2007-04-17  Murray Cumming  <murrayc@murrayc.com>

	* src/modest-protocol-info.c:
	* src/modest-protocol-info.h: Added a MODEST_PROTOCOL_AUTH_CRAMMD5 enum value, because it 
	is required by our UI spec. Maybe something in our implementation will use this eventually.
	* src/maemo/easysetup/modest-easysetup-secureauth-combo-box.c: 
	(easysetup_secureauth_combo_box_fill): Use the CRAM MD5 enum value 
	instead of the previous 0 placeholder.
	
	* src/modest-defs.h: Added gconf list pair key names and value strings for the security and 
	secure-auth settings.
	* src/modest-account-mgr-helpers.h:
	* src/modest-account-mgr-helpers.c:
	(modest_server_account_data_get_option_secure_auth),
	(modest_server_account_set_option_secure_auth),
	(modest_server_account_data_get_option_security),
	(modest_server_account_set_option_security): Added this API for getting and setting the security 
	and secure-auth settings.
	
	* src/maemo/modest-account-settings-dialog.h:
	* src/maemo/modest-account-settings-dialog.c:
	(modest_account_settings_dialog_finalize), (check_data),
	(on_response): Store the original title as well as the name, to avoid unnececessary warnings 
	about changing titles.
	(modest_account_settings_dialog_set_account_name): Load the security and secure-auth settings.
	(save_configuration): Save the security and secure-auth settings.

	* src/modest-conf.c: (modest_conf_set_list): Get the list after setting it, to show that this 
	is failing sometimes (though reporting success). I fear I may need to debug gconf to fix this.

2007-04-17  Murray Cumming  <murrayc@murrayc.com>

	* src/modest-defs.h: 
	* src/modest-account-mgr.c:
	(modest_account_mgr_add_server_account):
	Added and used defines for the options key and value pair strings, 
	that are used so far, though they do not seem to correspond to anything in our 
	UI specs or ModestProtocol enum.
	
	* src/modest-account-mgr-helpers.h:
	* src/modest-account-mgr-helpers.c:
	(compare_option_strings_for_name),
	(modest_server_account_data_get_option_value),
	(modest_server_account_data_get_option_bool),
	(modest_account_mgr_get_server_account_option):
	Added helper functions for parsing the options GSList.

2007-04-16  Murray Cumming  <murrayc@murrayc.com>

	* src/modest-account-mgr-helpers.c: Clarified the documentation to say that the initial 
	display name is based on the supplied account name.
	* src/modest-account-mgr.c:
	* src/modest-account-mgr.h: Added modest_account_mgr_account_with_display_name_exists(), 
	with an inefficient, but good-enough, implementation.
	
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(create_page_account_details), (on_before_next), (create_account): 
	Check for existing display names rather than (non-user-visible) account names, and just 
	create and set a unique account name at the end.
	
	* src/maemo/modest-account-settings-dialog.c:
	(modest_account_settings_dialog_init),
	(modest_account_settings_dialog_set_account_name),
	(create_page_incoming): Show the display name, instead of the account name.
	(on_response): Do some (not all) extra checks, as in the UI spec.
	(save_configuration): Save the display name if it was changed.

2007-04-16  Murray Cumming  <murrayc@murrayc.com>

	* po/en_GB.po: Added needed logical ID and translation.
	* src/widgets/modest-account-view.c: (on_account_default_toggled),
	(init_view): Made the is-default column clicking work.

2007-04-16  Murray Cumming  <murrayc@murrayc.com>

	* configure.ac:
	* src/maemo/easysetup/Makefile.am:
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(modest_easysetup_wizard_dialog_init):
	* src/maemo/easysetup/provider-data-test.keyfile:
	* src/maemo/easysetup/provider-data.keyfile: 
	Moved the provider data file to the new modest-providers-data package and used it from there.

2007-04-16  Murray Cumming  <murrayc@murrayc.com>

	* src/modest-local-folder-info.c:
	(modest_local_folder_info_get_type_display_name): Use _() to actually get the translated string. 
	N_() was already used on the static strings, but this just marks it for translation without 
	using the translation.

2007-04-06  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/modest-account-settings-dialog.c:
	(create_page_incoming),
	(modest_account_settings_dialog_set_account_name): 
	Added comments about the need for new API in ModestAccountMgr to handle the authentication 
	and secure-connection stuff that is stored in the options GSList* with hard-coded names.
	I will do this if nobody else gets there first.

2007-04-06  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/modest-account-settings-dialog.c: (save_configuration): 
	Saved much of the incoming and outgoing data too, though I cannot yet see how to 
	save the security stuff.

2007-04-06  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c: (create_account): 
	Set the email address and user fullname, which I now see must be 
	done separately.
	
	* src/maemo/modest-account-settings-dialog.h:
	* src/maemo/modest-account-settings-dialog.c:
	 (on_response),
	(modest_account_settings_dialog_set_account_name): Show the email address, fullname, 
	leave-on-server and authentication.
	(save_configuration): Save most of the non-server-account specific stuff, but I don't see 
	how to do the rest.

2007-04-06  Murray Cumming  <murrayc@murrayc.com>


	* src/maemo/modest-account-settings-dialog.c:
	* src/maemo/modest-account-settings-dialog.h:
	Most (but not all) of the widgets are now present as specified by the UI spec.
	No changes are yet saved, and some details are not properly shown yet.
	
	* po/en_GB.po: Added translations for logical IDs used by the Account Settings dialog.

2007-04-06  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/Makefile.am:
	* src/maemo/modest-account-settings-dialog.c:
	* src/maemo/modest-account-settings-dialog.h: The beginnings of the dialog to edit 
	an existing account. Doesn't do much yet.
	
	* src/maemo/modest-account-view-window.c: (on_edit_button_clicked): 
	Open the accounts settings dialog when Edit is clicked.

2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/Makefile.am:
	* src/maemo/easysetup/modest-easysetup-country-combo-box.c:
	(load_from_file): 
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(modest_easysetup_wizard_dialog_init):
	Try to get the source directory from the build system,
	instead of hard-coding "./" into the source code, when opening our local 
	copies of the configuration files.
	But this still fails when opening the wizard from the Accounts window, 
	maybe because the working directory seems to change at runtime.
	So the wizard will fail the second time unless you copy the files into their 
	proper locations - see the stdout warnings for the paths.
	
	(create_page_account_details),(on_before_next): 
	Check for existing non-server accounts instead of server accounts, 
	so the default account name is useful again, and to prevent trying to 
	recreate accounts.
	
	* src/maemo/modest-account-view-window.c: (on_new_button_clicked): 
	Show the wizard when New is clicked.
	
	* src/widgets/modest-account-view.c: (on_account_default_toggled),
	(init_view): Show the column headers, and show the columns that are 
	specified in the UI specs. However, something in Maemo's GTK+ prevents 
	us from handling the GtkCellRendererToggle::toggled signal, so we cannot 
	change the default account. This is despite unsetting the special properties.

2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* docs/reference/modest-design.sgml: Corrected spelling mistake.
	* src/maemo/easysetup/modest-easysetup-wizard.c: (create_account): 
	Create the 2 server accounts and then create the account, using the names of the 2 server accounts.
	This seems to be how this should be used. If it is, then I will update the AccountMgr documentation 
	to make that clearer.
	* src/modest-account-mgr.h: Corrected the modest_account_mgr_search_server_account() documentation.

2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/modest-account-view-window.c:
	(modest_account_view_window_init),
	(modest_account_view_window_new):
	Use the same buttons as specified in the 
	UI spec. Add the widgets to the vbox and action_area instead of just assigning them to 
	the existing widgets, which never had a chance of working.
	Put the ModestAccountView treeview in a scrolled window.
	Do not repeat the initialization in both _init() and _new().
	
	* src/widgets/modest-account-view.c: (update_account_view):
	Add a warning about modest_account_mgr_account_names() returning NULL, which is why 
	this widget and window shows no accounts.
	
	* po/en_GB.po: Added translations needed for the dialog button logical IDs.
	
2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(set_default_custom_servernames): Avoid a dereference of a destroyed widget.
	(create_account): Do a sanity check, showing that modest_account_mgr_account_names() 
	returns NULL after modest_account_mgr_add_server_account() returned TRUE, 
	which seems wrong.
	
	* src/maemo/modest-main-window-ui.h: Specify the callback for the Accounts menu item.
	* src/modest-ui-actions.c: (modest_ui_actions_on_accounts): Open the wizard if no 
	accounts exist yet, as in the UI spec.
	
	* src/modest-account-mgr.h: Add TODO comment about a possible memory leak.

2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/Makefile.am:
	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	* src/maemo/modest-connection-specific-smtp-edit-window.h: 
	New window for editing connection-specific smtp details.
	Not fully implemented.

	* src/maemo/modest-connection-specific-smtp-window.c:
	(modest_connection_specific_smtp_window_finalize) :
	unref the tree model.
	(on_button_edit): Show the edit window.

2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* src/Makefile.am: Change sequence of sub-libraries, which fixed an undefined symbol 
	error for me.
	
	* src/maemo/Makefile.am:
	* src/maemo/modest-connection-specific-smtp-window.c:
	* src/maemo/modest-connection-specific-smtp-window.h:
	New window for showing the list of connections, for connection-specific 
	SMTP servers. Not fully implemented, because it needs an enhancement to TnyMaemoDevice.
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(create_page_custom_outgoing): Show the new window when the button is clicked.

2007-04-04  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c: (create_account):
	* src/maemo/easysetup/modest-presets.c: (modest_presets_new):
	* src/maemo/modest-msg-edit-window.c:
	(modest_msg_edit_window_insert_image):
	* src/modest-conf.c: (modest_conf_key_escape):
	* src/modest-mail-operation.c:
	(modest_mail_operation_send_new_mail):
	* src/modest-ui-actions.c: (modest_ui_actions_on_accounts),
	(modest_ui_actions_on_new_account):
	* src/widgets/modest-attachment-view.c: (update_filename_request):
	* src/widgets/modest-mail-header-view.c: 
	Corrected warnings that were breaking the build, by commenting out unused variables, 
	and a function, and by including a header.

2007-04-04  Murray Cumming  <murrayc@murrayc.com>

	* configure.ac: Define MODEST_PLATFORM_MAEMO and MODEST_PLATFORM_GNOME in config.h, 
	so we can #ifdef around platform-specific code when necessary.
	* src/modest-ui-actions.c: (modest_ui_actions_on_new_account): Use MODEST_PLATFORM_MAEMO 
	to allow this to build for the GNOME platform too.

2007-04-04  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c:
	Added util_increment_name() and used it in create_page_account_details() 
	to make sure that the default account name is always a new name.
	
	(modest_easysetup_wizard_dialog_init), 
	(set_default_custom_servernames): Some minor memory management fixes.

2007-04-04  Murray Cumming  <murrayc@murrayc.com>

	* Makefile.am:
	* configure.ac:
	* src/modest-runtime.c: (init_i18n): Restored the translation 
	infrastructure, so that GETTEXT_PACKAGE and MODEST_LOCALE_DIR 
	are defined in config.h, and the translations are installed.
	
	* src/maemo/easysetup/: Include config.h so that GETTEXT_PACKAGE 
	is defined for translation.

2007-04-03  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-country-combo-box.c:
	(load_from_file):
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(modest_easysetup_wizard_dialog_init):
	* src/maemo/easysetup/modest-presets.c: (modest_presets_new): 
	Use realistic paths (though they should use $prefix generically) to the 
	mcc_mapping and provider-data.keyfile files which might work when they 
	are installed by the future version of the operator-wizard package, 
	and then fallback to paths in our source code, with an explanatory 
	warning.

2007-04-03  Murray Cumming  <murrayc@murrayc.com>

	* configure.ac:
	* src/Makefile.am:
	* src/maemo/Makefile.am:
	* src/maemo/easysetup/: Added files from the previously-exernal 
	osso-modest-easysetup.
	* src/maemo/modest-main-window-ui.h:
	* src/modest-ui-actions.c: 
	* src/modest-ui-actions.h:
	Added modest_ui_actions_on_new_account() as a signal handler for the 
	New Account menu item. It shows the easysetup wizard.
	* po/en_GB.po: Added additional needed logical IDs and translations.
	
Started ChangeLog2 file, because I cannot work without a ChangeLog. murrayc.
Apparently ChangeLog is not used for some vague Nokia legal reasons.

