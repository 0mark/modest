2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(set_default_custom_servernames): Avoid a dereference of a destroyed widget.
	(create_account): Do a sanity check, showing that modest_account_mgr_account_names() 
	returns NULL after modest_account_mgr_add_server_account() returned TRUE, 
	which seems wrong.
	
	* src/maemo/modest-main-window-ui.h: Specify the callback for the Accounts menu item.
	* src/modest-ui-actions.c: (modest_ui_actions_on_accounts): Open the wizard if no 
	accounts exist yet, as in the UI spec.
	
	* src/modest-account-mgr.h: Add TODO comment about a possible memory leak.

2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/Makefile.am:
	* src/maemo/modest-connection-specific-smtp-edit-window.c:
	* src/maemo/modest-connection-specific-smtp-edit-window.h: 
	New window for editing connection-specific smtp details.
	Not fully implemented.

	* src/maemo/modest-connection-specific-smtp-window.c:
	(modest_connection_specific_smtp_window_finalize) :
	unref the tree model.
	(on_button_edit): Show the edit window.

2007-04-05  Murray Cumming  <murrayc@murrayc.com>

	* src/Makefile.am: Change sequence of sub-libraries, which fixed an undefined symbol 
	error for me.
	
	* src/maemo/Makefile.am:
	* src/maemo/modest-connection-specific-smtp-window.c:
	* src/maemo/modest-connection-specific-smtp-window.h:
	New window for showing the list of connections, for connection-specific 
	SMTP servers. Not fully implemented, because it needs an enhancement to TnyMaemoDevice.
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(create_page_custom_outgoing): Show the new window when the button is clicked.

2007-04-04  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c: (create_account):
	* src/maemo/easysetup/modest-presets.c: (modest_presets_new):
	* src/maemo/modest-msg-edit-window.c:
	(modest_msg_edit_window_insert_image):
	* src/modest-conf.c: (modest_conf_key_escape):
	* src/modest-mail-operation.c:
	(modest_mail_operation_send_new_mail):
	* src/modest-ui-actions.c: (modest_ui_actions_on_accounts),
	(modest_ui_actions_on_new_account):
	* src/widgets/modest-attachment-view.c: (update_filename_request):
	* src/widgets/modest-mail-header-view.c: 
	Corrected warnings that were breaking the build, by commenting out unused variables, 
	and a function, and by including a header.

2007-04-04  Murray Cumming  <murrayc@murrayc.com>

	* configure.ac: Define MODEST_PLATFORM_MAEMO and MODEST_PLATFORM_GNOME in config.h, 
	so we can #ifdef around platform-specific code when necessary.
	* src/modest-ui-actions.c: (modest_ui_actions_on_new_account): Use MODEST_PLATFORM_MAEMO 
	to allow this to build for the GNOME platform too.

2007-04-04  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-wizard.c:
	Added util_increment_name() and used it in create_page_account_details() 
	to make sure that the default account name is always a new name.
	
	(modest_easysetup_wizard_dialog_init), 
	(set_default_custom_servernames): Some minor memory management fixes.

2007-04-04  Murray Cumming  <murrayc@murrayc.com>

	* Makefile.am:
	* configure.ac:
	* src/modest-runtime.c: (init_i18n): Restored the translation 
	infrastructure, so that GETTEXT_PACKAGE and MODEST_LOCALE_DIR 
	are defined in config.h, and the translations are installed.
	
	* src/maemo/easysetup/: Include config.h so that GETTEXT_PACKAGE 
	is defined for translation.

2007-04-03  Murray Cumming  <murrayc@murrayc.com>

	* src/maemo/easysetup/modest-easysetup-country-combo-box.c:
	(load_from_file):
	* src/maemo/easysetup/modest-easysetup-wizard.c:
	(modest_easysetup_wizard_dialog_init):
	* src/maemo/easysetup/modest-presets.c: (modest_presets_new): 
	Use realistic paths (though they should use $prefix generically) to the 
	mcc_mapping and provider-data.keyfile files which might work when they 
	are installed by the future version of the operator-wizard package, 
	and then fallback to paths in our source code, with an explanatory 
	warning.

2007-04-03  Murray Cumming  <murrayc@murrayc.com>

	* configure.ac:
	* src/Makefile.am:
	* src/maemo/Makefile.am:
	* src/maemo/easysetup/: Added files from the previously-exernal 
	osso-modest-easysetup.
	* src/maemo/modest-main-window-ui.h:
	* src/modest-ui-actions.c: 
	* src/modest-ui-actions.h:
	Added modest_ui_actions_on_new_account() as a signal handler for the 
	New Account menu item. It shows the easysetup wizard.
	* po/en_GB.po: Added additional needed logical IDs and translations.
	
Started ChangeLog2 file, because I cannot work without a ChangeLog. murrayc.
Apparently ChangeLog is not used for some vague Nokia legal reasons.

